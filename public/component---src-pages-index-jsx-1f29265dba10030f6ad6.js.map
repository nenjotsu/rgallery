{"version":3,"sources":["webpack:///./src/pages/index.jsx"],"names":["Content","styled","div","withConfig","displayName","componentId","Overlay","props","theme","brand","primary","TracedGlow","img","Service","Index","_ref","data","location","banners","allStrapiBanners","edges","trailartworks","useTrail","allStrapiArtworks","length","from","opacity","to","trailBanners","color","RandomColor","transparentColor","hexToRGB","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_components__WEBPACK_IMPORTED_MODULE_10__","pathname","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_9__","map","style","index","src","node","thumbnail","publicURL","alt","gatsby_image__WEBPACK_IMPORTED_MODULE_8___default","fluid","file","childImageSharp","className","artwork","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","id","backgroundColor","title","lodash_has__WEBPACK_IMPORTED_MODULE_2___default","sizes","descriptions","medium","name","exhibition","artist","propTypes","PropTypes","shape","array","isRequired","object","pageQuery"],"mappings":"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","file":"component---src-pages-index-jsx-1f29265dba10030f6ad6.js","sourcesContent":["/* eslint react/display-name: 0 */\nimport React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport { useTrail } from 'react-spring';\nimport styled from 'styled-components';\nimport * as lodash from 'lodash';\nimport Img from 'gatsby-image';\nimport { Carousel } from 'react-responsive-carousel';\nimport { Layout } from '../components';\nimport RandomColor, { hexToRGB } from '../components/RandomColor';\n\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport './style.css';\n\nconst Content = styled.div`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  padding: 20px;\n\n  a {\n    color: #fff;\n    height: 100%;\n    left: 0;\n    opacity: 0;\n    padding: 2rem;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    z-index: 10;\n    transition: all 0.3s ease-in-out;\n    text-decoration: none;\n\n    &:hover {\n      color: #fff;\n      opacity: 1;\n      text-decoration: none;\n    }\n  }\n  h2 {\n    font-size: 0.5em;\n    margin-top: 0;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n  h3 {\n    font-size: 0.5em;\n    margin-top: 0;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n`;\n\nconst Overlay = styled.div`\n  background-color: ${props => props.theme.brand.primary};\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: -2;\n`;\n\nconst TracedGlow = styled.img`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0.08;\n  filter: invert(100%);\n  z-index: -1;\n`;\n\nconst Service = styled.div`\n  font-size: 0.3em;\n  opacity: 0.9;\n  text-shadow: 2px 2px 5px rgba(0, 0, 0, 1);\n`;\n\nconst Index = ({ data, location }) => {\n  const banners = data.allStrapiBanners.edges;\n\n  const trailartworks = useTrail(data.allStrapiArtworks.edges.length, {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  });\n\n  const trailBanners = useTrail(banners.length, {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  });\n\n  const color = RandomColor();\n  const transparentColor = hexToRGB(color, 0.1);\n\n  return (\n    <Layout pathname={location.pathname}>\n      <Carousel>\n        {trailBanners.map((style, index) => (\n          // <Img fluid={banners[index].node.thumbnail.childImageSharp.fluid} />\n          <img\n            src={banners[index].node.thumbnail.publicURL}\n            alt=\"RGallery Contemporary Arts\"\n          />\n        ))}\n      </Carousel>\n      <Img\n        fluid={data.file.childImageSharp.fluid}\n        alt=\"Gatsby Docs are awesome\"\n      />\n      <div className=\"masonry\">\n        {trailartworks.map((style, index) => {\n          const artwork = data.allStrapiArtworks.edges[index].node;\n          return (\n            <div\n              className=\"item\"\n              style={{\n                ...style,\n              }}\n            >\n              <div className=\"item__content  item__content--large\">\n                <Content>\n                  <Link to={artwork.id}>\n                    {artwork.thumbnail && (\n                      <TracedGlow\n                        src={artwork.thumbnail.childImageSharp.fluid}\n                        alt=\"\"\n                      />\n                    )}\n                    <Overlay style={{ backgroundColor: transparentColor }} />\n                    <h2>{artwork.title}</h2>\n                    {lodash.has(artwork, 'sizes.descriptions') && (\n                      <Service>\n                        {artwork.sizes && artwork.sizes.descriptions}\n                      </Service>\n                    )}\n                    {lodash.has(artwork, 'medium.name') && (\n                      <Service>{artwork.medium && artwork.medium.name}</Service>\n                    )}\n                    {lodash.has(artwork, 'exhibition.title') && (\n                      <Service>\n                        Exhibition:{' '}\n                        {artwork.exhibition && artwork.exhibition.title}\n                      </Service>\n                    )}\n                    {lodash.has(artwork, 'artist.name') &&\n                      artwork.artist.name && (\n                        <h3>Artist: {artwork.artist && artwork.artist.name}</h3>\n                      )}\n                  </Link>\n                </Content>\n                {artwork.thumbnail && artwork.thumbnail.publicURL && (\n                  <img\n                    className=\"item__img\"\n                    src={artwork.thumbnail.publicURL}\n                    alt=\"\"\n                  />\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Index;\n\nIndex.propTypes = {\n  data: PropTypes.shape({\n    allStrapiArtworks: PropTypes.shape({\n      edges: PropTypes.array.isRequired,\n    }),\n    allStrapiBanners: PropTypes.shape({\n      edges: PropTypes.array.isRequired,\n    }),\n  }).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    file {\n      childImageSharp {\n        fluid {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    allStrapiBanners {\n      edges {\n        node {\n          id\n          name\n          thumbnail {\n            publicURL\n            childImageSharp {\n              fluid(maxWidth: 850, quality: 90) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n    allStrapiArtworks {\n      edges {\n        node {\n          id\n          title\n          descriptions\n          thumbnail {\n            publicURL\n            childImageSharp {\n              fluid(maxWidth: 850, quality: 90) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n          artist {\n            id\n            name\n          }\n          medium {\n            name\n          }\n          sizes {\n            descriptions\n          }\n          exhibition {\n            id\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}